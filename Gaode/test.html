<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="zh-cn">
	<head>
		
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
	<title></title>
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/coordTransform.js"></script>
	</head>
	<body>
		<script>
			var wgs84togcj02=coordtransform.wgs84togcj02(87.41219,43.88174);
			document.write(wgs84togcj02+"<br />");
			
			var bd09togcj02=coordtransform.bd09togcj02(87.68029,43.94986);
			document.write(bd09togcj02+"<br />");
		</script>
	<button type="button" class="btn btn-default">
		<span class="glyphicon glyphicon-align-left"> star</span> 
		<span class="sr-only">左对齐</span></button>
	<img src="img/close2.gif" onclick="closeInfoWindow();" />
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>点聚合</title>
    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <script src="http://webapi.amap.com/maps?v=1.3&key=您申请的key值"></script>
    <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
</head>
<body>
<div id="container"></div>
<div class="button-group">
    <input type="button" class="button" value="自定义样式点聚合" id="add1"/>
    <input type="button" class="button" value="默认样式点聚合" id="add0"/>
</div>
	<script>
	    var cluster, markers = [];
	    var map = new AMap.Map("container", {
	        resizeEnable: true,
	        center: [116.397428, 39.90923],
	        zoom: 13
	    });
	
	    // 随机向地图添加500个标注点
	    var mapBounds = map.getBounds();
	    var sw = mapBounds.getSouthWest();
	    var ne = mapBounds.getNorthEast();
	    var lngSpan = Math.abs(sw.lng - ne.lng);
	    var latSpan = Math.abs(ne.lat - sw.lat);
	    for (var i = 0; i < 500; i++) {
	        var markerPosition = [sw.lng + lngSpan * (Math.random() * 1), ne.lat - latSpan * (Math.random() * 1)];
	        var marker = new AMap.Marker({
	            position: markerPosition,
	            icon: "http://amappc.cn-hangzhou.oss-pub.aliyun-inc.com/lbs/static/img/marker.png",
	            offset: {x: -8,y: -34}
	        });
	        markers.push(marker);
	    }
	    addCluster();
	
	    AMap.event.addDomListener(document.getElementById('add0'), 'click', function() {
	        addCluster();
	    });
	   
	    // 添加点聚合
	    function addCluster() {
	        if (cluster) {
	            cluster.setMap(null);
	        }
	      
            map.plugin(["AMap.MarkerClusterer"], function() {
                cluster = new AMap.MarkerClusterer(map, markers);
            });
	        }
	
	</script>
</body>
</html>
	</body>
</html>
